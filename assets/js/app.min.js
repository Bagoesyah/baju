function show_all_material_cleric(e){var a=e.material,t=e.category,i=e.idcategory,_=e.idsubcategory,n=e.sub,s=e.cleric_type;cleric_param={id:i},$.post(base_url+"/api/order/save_to_session",{type:"cleric_type",value:s},function(e){}),get_category_cleric(cleric_param);var r="id_"+a+"_"+n,c=get_session(r),o=base_url+"/api/material/get_material_cleric",l="#"+t+"_"+i;$.ajax({url:o,type:"POST",beforeSend:function(e){e.setRequestHeader("APP_TOKEN",app_token)},data:{ID_CATEGORY:i,ID_SUB_CATEGORY:_},success:function(e){if($(l).html(""),"SUCCESS"==e.STATUS){var a="";$.each(e.DATA,function(e,i){a=i.THUMB,$(l).append('<a href="#" class="a-material-cleric-img '+t+"-"+i.ID+'" data-id="'+i.ID+'" data-type="'+r+'"><img src="'+base_url+"/"+i.PATH+"/"+a+'" width="100"></a>'),c==i.ID&&($("div"+l+" .a-material-cleric-img img.material-checked-img").remove(),$("div"+l+" .a-material-cleric-img."+t+"-"+i.ID).append('<img src="'+base_url+'/assets/img/checked.png" class="material-checked-img">'))})}else $(l).html('<div class="panel panel-default"><div class="panel-body">'+e.MESSAGE+"</div></div>")}}),$(l).on("click",".a-material-cleric-img",function(e){e.preventDefault();var a=$(this).data("type"),t=$(this).data("id");$.post(base_url+"/api/order/save_to_session",{type:a,value:t},function(e){var i=base_url+"/api/material/get_material_cleric";$.ajax({url:i,type:"POST",beforeSend:function(e){e.setRequestHeader("APP_TOKEN",app_token)},data:{ID_CLERIC:t},success:function(e){$.post(base_url+"/api/order/save_to_session",{type:"price_"+a,value:e.DATA.PRICE},function(e){get_price_material_custom()})}})}),$(".material-checked-img").remove(),$(this).prepend('<img src="'+base_url+'/assets/img/checked.png" class="material-checked-img">')}),get_price_material_custom()}function show_all_material(e){var a=e.material,t=e.category,i="";i="body_type"==a||"embroidery"==a||"option"==a?"id_"+a+"_"+t:"buttons"==a?"id_"+t:"id_"+a;var _=get_session(i);""==t&&(t=a);var n=a,s=base_url+"/api/material/get_material_"+n+"?category="+t;$.ajax({url:s,type:"GET",beforeSend:function(e){e.setRequestHeader("APP_TOKEN",app_token)},success:function(e){$("#"+t).html("");var i="";$.each(e.DATA,function(e,s){i=null==s.THUMB?s.IMAGE:s.THUMB,"body_type"==a||"cleric"==a||"embroidery"==a||"option"==a?$("#"+t).append('<a href="#" class="a-material-img '+t+"-"+s.ID+'" data-id="'+s.ID+'" data-type="id_'+a+"_"+t+'"><img src="'+base_url+"/assets/img/upload/material_"+n+"/"+i+'" alt="'+s.TITLE+'" width="100"></a>'):"buttons"==a?$("#"+t).append('<a href="#" class="a-material-img '+t+"-"+s.ID+'" data-id="'+s.ID+'" data-type="id_'+t+'"><img src="'+base_url+"/assets/img/upload/material_"+a+"/"+i+'" alt="'+s.TITLE+'" width="100"></a>'):$("#"+t).append('<a href="#" class="a-material-img '+t+"-"+s.ID+'" data-id="'+s.ID+'" data-type="id_'+a+'"><img src="'+base_url+"/assets/img/upload/material_"+a+"/"+i+'" alt="'+s.TITLE+'" width="100"></a>'),_==s.ID&&($("div#"+t+" .a-material-img img.material-checked-img").remove(),$("div#"+t+" .a-material-img."+t+"-"+s.ID).append('<img src="'+base_url+'/assets/img/checked.png" class="material-checked-img">'))})}}),$("#"+t).on("click",".a-material-img",function(e){e.preventDefault();var t=$(this).data("type"),i=$(this).data("id");$.post(base_url+"/api/order/save_to_session",{type:t,value:i},function(e){get_detail_material(base_url,a,i);var _=a,n=base_url+"/api/material/get_material_"+_+"/"+i;$.ajax({url:n,type:"GET",beforeSend:function(e){e.setRequestHeader("APP_TOKEN",app_token)},success:function(e){$.post(base_url+"/api/order/save_to_session",{type:"price_"+t,value:e.DATA.PRICE},function(e){get_price_material_custom()})}})}),$(".material-checked-img").remove(),$(this).prepend('<img src="'+base_url+'/assets/img/checked.png" class="material-checked-img">')}),get_price_material_custom()}function get_detail_material(e,a,t){}function get_session(e){return $.ajax({url:base_url+"/api/order/get_session/"+e,type:"get",async:!1,success:function(e){session_value=e}}),session_value}function get_price_material_custom(){$("#sub_price_fabric").html(""),$.ajax({url:base_url+"/api/order/get_sum_price_material_custom",type:"get",async:!1,success:function(e){$("#sub_price_fabric").append(e)}})}function view_detail_order_custom_history(e,a,t){$.ajax({url:base_url+"/api/order/get_detail_order_custom_history",type:"post",beforeSend:function(e){e.setRequestHeader("APP_TOKEN",app_token)},data:{ID_CUSTOM_PRODUCT:e,TEMPLATE:a},success:function(e){$(".view_custom_collapse").html(""),$("."+t).html(e.DATA)}})}function already_received_product(e){$.ajax({url:base_url+"/dashboard/order_status/already_received_product",type:"post",data:{ORDER_NUMBER:e},success:function(e){0!=e&&($(".side-order-detail").html(""),$(".side-order-detail").html(e))}})}function get_combobox_value(e,a,t){$.post(base_url+"/api/order/save_to_session",{type:a,value:t},function(i){$.ajax({url:base_url+"/api/material/"+e+"/"+t,type:"GET",beforeSend:function(e){e.setRequestHeader("APP_TOKEN",app_token)},success:function(e){$.post(base_url+"/api/order/save_to_session",{type:"price_"+a,value:e.DATA.PRICE},function(e){get_price_material_custom()})}})})}function get_value_by_name(e,a){$.post(base_url+"/api/order/save_to_session",{type:e,value:a},function(e){})}function get_category_cleric(e){var a=e.id;$.ajax({url:base_url+"/api/material/get_material_cleric_category",type:"POST",beforeSend:function(e){e.setRequestHeader("APP_TOKEN",app_token)},data:{ID_CATEGORY:a},success:function(e){"SUCCESS"==e.STATUS?($(".category-cleric-img").html(""),$(".category-cleric-img").html('<img src="'+base_url+"/"+e.DATA.PATH+e.DATA.IMAGE+'" class="img-responsive col-centered">')):$(".category-cleric-img").html("")}})}function get_element_by_name(e){return document.getElementsByName(e)[0].value}function size_calculation(){$("#btnSizeCalculation").html("<i class='ion-load-c'></i> loading"),setTimeout(function(){var e=isNaN(get_element_by_name("id_size"))||""==get_element_by_name("id_size")?0:get_element_by_name("id_size"),a=isNaN(get_element_by_name("neck_dimensions"))||""==get_element_by_name("neck_dimensions")?0:get_element_by_name("neck_dimensions"),t=isNaN(get_element_by_name("shoulder_dimensions"))||""==get_element_by_name("shoulder_dimensions")?0:get_element_by_name("shoulder_dimensions"),i=isNaN(get_element_by_name("chest_dimensions"))||""==get_element_by_name("chest_dimensions")?0:get_element_by_name("chest_dimensions"),_=isNaN(get_element_by_name("waist_dimensions"))||""==get_element_by_name("waist_dimensions")?0:get_element_by_name("waist_dimensions"),n=isNaN(get_element_by_name("hip_dimensions"))||""==get_element_by_name("hip_dimensions")?0:get_element_by_name("hip_dimensions"),s=isNaN(get_element_by_name("arm_hole_dimensions"))||""==get_element_by_name("arm_hole_dimensions")?0:get_element_by_name("arm_hole_dimensions"),r=isNaN(get_element_by_name("back_length_88_dimensions"))||""==get_element_by_name("back_length_88_dimensions")?0:get_element_by_name("back_length_88_dimensions"),c=isNaN(get_element_by_name("back_length_89_dimensions"))||""==get_element_by_name("back_length_89_dimensions")?0:get_element_by_name("back_length_89_dimensions"),o=isNaN(get_element_by_name("aloha_88_dimensions"))||""==get_element_by_name("aloha_88_dimensions")?0:get_element_by_name("aloha_88_dimensions"),l=isNaN(get_element_by_name("aloha_89_dimensions"))||""==get_element_by_name("aloha_89_dimensions")?0:get_element_by_name("aloha_89_dimensions"),m=isNaN(get_element_by_name("cuffs_circle_dimensions"))||""==get_element_by_name("cuffs_circle_dimensions")?0:get_element_by_name("cuffs_circle_dimensions"),d=isNaN(get_element_by_name("short_sleeve_dimensions"))||""==get_element_by_name("short_sleeve_dimensions")?0:get_element_by_name("short_sleeve_dimensions"),u=isNaN(get_element_by_name("sleeve_circle_dimensions"))||""==get_element_by_name("sleeve_circle_dimensions")?0:get_element_by_name("sleeve_circle_dimensions"),p=isNaN(get_element_by_name("neck_correction"))||""==get_element_by_name("neck_correction")?0:get_element_by_name("neck_correction"),g=isNaN(get_element_by_name("shoulder_correction"))||""==get_element_by_name("shoulder_correction")?0:get_element_by_name("shoulder_correction"),h=isNaN(get_element_by_name("chest_correction"))||""==get_element_by_name("chest_correction")?0:get_element_by_name("chest_correction"),b=isNaN(get_element_by_name("waist_correction"))||""==get_element_by_name("waist_correction")?0:get_element_by_name("waist_correction"),y=isNaN(get_element_by_name("hip_correction"))||""==get_element_by_name("hip_correction")?0:get_element_by_name("hip_correction"),v=isNaN(get_element_by_name("arm_hole_correction"))||""==get_element_by_name("arm_hole_correction")?0:get_element_by_name("arm_hole_correction"),f=isNaN(get_element_by_name("back_length_88_correction"))||""==get_element_by_name("back_length_88_correction")?0:get_element_by_name("back_length_88_correction"),w=isNaN(get_element_by_name("back_length_89_correction"))||""==get_element_by_name("back_length_89_correction")?0:get_element_by_name("back_length_89_correction"),k=isNaN(get_element_by_name("aloha_88_correction"))||""==get_element_by_name("aloha_88_correction")?0:get_element_by_name("aloha_88_correction"),N=isNaN(get_element_by_name("aloha_89_correction"))||""==get_element_by_name("aloha_89_correction")?0:get_element_by_name("aloha_89_correction"),I=isNaN(get_element_by_name("cuffs_circle_correction"))||""==get_element_by_name("cuffs_circle_correction")?0:get_element_by_name("cuffs_circle_correction"),T=isNaN(get_element_by_name("short_sleeve_correction"))||""==get_element_by_name("short_sleeve_correction")?0:get_element_by_name("short_sleeve_correction"),z=isNaN(get_element_by_name("sleeve_circle_correction"))||""==get_element_by_name("sleeve_circle_correction")?0:get_element_by_name("sleeve_circle_correction"),A=parseInt(a)+parseInt(p),S=parseInt(t)+parseInt(g),E=parseInt(i)+parseInt(h),D=parseInt(_)+parseInt(b),P=parseInt(n)+parseInt(y),H=parseInt(s)+parseInt(v),O=parseInt(r)+parseInt(f),R=parseInt(c)+parseInt(w),C=parseInt(o)+parseInt(k),j=parseInt(l)+parseInt(N),x=parseInt(m)+parseInt(I),U=parseInt(d)+parseInt(T),G=parseInt(u)+parseInt(z);$('input[name="neck_product_upsize"]').val(A),$('input[name="shoulder_product_upsize"]').val(S),$('input[name="chest_product_upsize"]').val(E),$('input[name="waist_product_upsize"]').val(D),$('input[name="hip_product_upsize"]').val(P),$('input[name="arm_hole_product_upsize"]').val(H),$('input[name="back_length_88_product_upsize"]').val(O),$('input[name="back_length_89_product_upsize"]').val(R),$('input[name="aloha_88_product_upsize"]').val(C),$('input[name="aloha_89_product_upsize"]').val(j),$('input[name="cuffs_circle_product_upsize"]').val(x),$('input[name="short_sleeve_product_upsize"]').val(U),$('input[name="sleeve_circle_product_upsize"]').val(G);for(var M=[["id_size",e],["neck_product_upsize",A],["shoulder_product_upsize",S],["chest_product_upsize",E],["waist_product_upsize",D],["hip_product_upsize",P],["arm_hole_product_upsize",H],["back_length_88_product_upsize",O],["back_length_89_product_upsize",R],["aloha_88_product_upsize",C],["aloha_89_product_upsize",j],["cuffs_circle_product_upsize",x],["short_sleeve_product_upsize",U],["sleeve_circle_product_upsize",G]],q=0;q<M.length;q++)$.post(base_url+"/api/order/save_to_session",{type:M[q][0],value:M[q][1]},function(e){});$("#btnSizeCalculation").html("Size calculation")},1e3)}var base_url="localhost"==window.location.host?window.location.origin+"/karuizawa":window.location.origin+"/karuizawa",sub_price_custom=0,app_token="clabskaruizawa";$(window).load(function(){$(".se-pre-con").delay(1e3).fadeOut("slow"),$(".ready-to-wear").matchHeight(),$(".ready-to-wear-img").matchHeight(),$(".ready-to-wear-content").matchHeight(),$(".new-arrival").matchHeight(),$(".new-arrival-img").matchHeight(),$(".new-arrival-content").matchHeight(),$(".box-information").matchHeight()}),$(document).ready(function(){$("select#sort-by-price").change(function(){var e=$("select#sort-by-price").val();if(""!=e){var a={sort_by:e},t=window.location.search.length,i=window.location.href,_="";_=0!=t?window.location.search.match("sort_by")?i.replace(/(sort_by=)[^\&]+/,"$1"+e):i+"&"+$.param(a):i+"?"+$.param(a),window.location.href=_}}),$("#btnSearch").click(function(){var e=$("#key").val();if(""!=e){var a={key:e},t=window.location.search.length,i=window.location.href,_="";_=0!=t?window.location.search.match("key")?i.replace(/(key=)[^\&]+/,"$1"+e):i+"&"+$.param(a):i+"?"+$.param(a),window.location.href=_}}),$("a.shirt-for").click(function(){var e=$(this).data("val");if(""!=e){var a={shirt:e},t=window.location.search.length,i=window.location.href,_="";_=0!=t?window.location.search.match("shirt")?i.replace(/(shirt=)[^\&]+/,"$1"+e):i+"&"+$.param(a):i+"?"+$.param(a),window.location.href=_}}),$("select#sort-by-color").change(function(){var e=$("select#sort-by-color").val();if(""!=e){var a={color:e},t=window.location.search.length,i=window.location.href,_="";_=0!=t?window.location.search.match("color")?i.replace(/(color=)[^\&]+/,"$1"+e):i+"&"+$.param(a):i+"?"+$.param(a),window.location.href=_}}),$("select#sort-by-size").change(function(){var e=$("select#sort-by-size").val();if(""!=e){var a={size:e},t=window.location.search.length,i=window.location.href,_="";_=0!=t?window.location.search.match("size")?i.replace(/(size=)[^\&]+/,"$1"+e):i+"&"+$.param(a):i+"?"+$.param(a),window.location.href=_}})}),$(document).on("shown.bs.tab",'a[data-toggle="tab"]',function(e){e.preventDefault();var a=$(this).data("material"),t=$(this).data("category"),i=$(this).data("idcategory"),_=$(this).data("idsubcategory"),n=$(this).data("sub"),s=i;if("cleric"==a){var r=$(this).data("header"),c={material:a,category:t,idcategory:i,idsubcategory:_,sub:n,cleric_type:s};show_all_material_cleric(c),cleric_param={id:i},get_category_cleric(cleric_param),"cleric"==r&&$.post(base_url+"/api/order/save_to_session",{type:"cleric_type",value:i},function(e){for(var a=1;3>=a;a++)$.post(base_url+"/api/order/unset_session",{type:"id_cleric_"+a},function(e){}),$.post(base_url+"/api/order/unset_session",{type:"price_id_cleric_"+a},function(e){})})}else if("other"==a||"payment"==a);else{var c={material:a,category:t,idcategory:i,idsubcategory:_};show_all_material(c)}}),$(document).ready(function(){$(".a-material-img").click(function(e){e.preventDefault();var a=$(this).data("type"),t=$(this).data("id");$.post(base_url+"/api/order/save_to_session",{type:a,value:t},function(e){get_detail_material(base_url,"fabric",t)}),$(".material-checked-img").remove(),$(this).prepend('<img src="'+base_url+'/assets/img/checked.png" class="material-checked-img">')}),$(".a-material-cleric-img").click(function(e){e.preventDefault();var a=$(this).data("type"),t=$(this).data("id");$.post(base_url+"/api/order/save_to_session",{type:a,value:t},function(e){}),$(".material-checked-img").remove(),$(this).prepend('<img src="'+base_url+'/assets/img/checked.png" class="material-checked-img">')})});var session_value=null,price_value=0;$(document).ready(function(){$("#list-view-chart").html("LOADING.."),$("#size-cart-modal").on("shown.bs.modal",function(e){$.ajax({url:base_url+"/api/product/get_master_size",type:"POST",beforeSend:function(e){e.setRequestHeader("APP_TOKEN",app_token)},data:{TEMPLATE_SIZE_CHART:!0},success:function(e){$("#list-view-chart").html(""),"SUCCESS"==e.STATUS?$("#list-view-chart").append(e.DATA):$("#list-view-chart").html('<tr><td colspan="3">'+e.MESSAGE+"</td></tr>")}})}),$("#collapseDetailSizeAdjustment").on("shown.bs.collapse",function(){$("a.link-collapse-size-adjustment span").html('<i class="ion-android-arrow-dropup-circle"></i> Hide detailed size adjustment')}),$("#collapseDetailSizeAdjustment").on("hidden.bs.collapse",function(){$("a.link-collapse-size-adjustment span").html('<i class="ion-android-arrow-dropdown-circle"></i> Show detailed size adjustment')})});